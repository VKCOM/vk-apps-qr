{"version":3,"sources":["App.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","url","showLogo","svgRef","React","createRef","onChange","bind","assertThisInitialized","savePNG","saveSvgAsPng","current","children","e","_e$currentTarget","currentTarget","name","value","checked","setState","defineProperty","_this$state","qrSvg","qrCodeGenerator","createQR","react_default","a","createElement","vkui","activePanel","id","type","top","status","bottom","style","textAlign","ref","dangerouslySetInnerHTML","__html","display","justifyContent","before","download_default","size","maxWidth","onClick","stretched","react_download_default","file","content","flexGrow","Component","connect","subscribe","detail","schemeAttribute","document","createAttribute","data","scheme","body","attributes","setNamedItem","console","log","JSON","stringify","send","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.741ae01b.chunk.js","sourcesContent":["import React from 'react';\nimport {Button, Checkbox, Div, FormLayout, Group, Input, Panel, PanelHeader, View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport qrCodeGenerator from '@vkontakte/vk-qr';\nimport Download from '@axetroy/react-download';\nimport Icon24Download from '@vkontakte/icons/dist/24/download';\nimport {saveSvgAsPng} from 'save-svg-as-png';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            url: 'https://vk.com',\n            showLogo: true\n        };\n\n        this.svgRef = React.createRef();\n\n        this.onChange = this.onChange.bind(this);\n        this.savePNG = this.savePNG.bind(this);\n    }\n\n    savePNG() {\n        saveSvgAsPng(this.svgRef.current.children[0], 'png.png')\n    }\n\n    onChange(e) {\n        const {name, value, checked} = e.currentTarget;\n        if (name === 'showLogo') {\n            this.setState({[name]: checked});\n        } else {\n            this.setState({[name]: value});\n        }\n    }\n\n    render() {\n        const {url, showLogo} = this.state;\n\n        const qrSvg = qrCodeGenerator.createQR(url, 256, 'classCode', showLogo);\n\n        return (\n            <View activePanel=\"mainPanel\">\n                <Panel id=\"mainPanel\">\n                    <PanelHeader>QR</PanelHeader>\n                    <Group>\n                        <FormLayout>\n                            <Input\n                                type=\"string\"\n                                top=\"Ссылка\"\n                                name=\"url\"\n                                value={url}\n                                onChange={this.onChange}\n                                status={url ? 'valid' : 'error'}\n                                bottom={url ? '' : 'Введите ссылку'}\n                            />\n\n                            <Checkbox name=\"showLogo\" checked={showLogo} onChange={this.onChange}>Использовать логотип\n                                ВКонтакте</Checkbox>\n                        </FormLayout>\n\n                        <Div style={{\n                            textAlign: 'center',\n                        }}>\n                            <span ref={this.svgRef} dangerouslySetInnerHTML={{__html: url ? qrSvg : ''}}/>\n                        </Div>\n\n                        <Div style={{display: 'flex', 'justifyContent': 'space-between'}}>\n                            <Button before={<Icon24Download/>} size=\"xl\" style={{maxWidth: 'calc(50% - 4px)'}}\n                                    onClick={this.savePNG} stretched>PNG</Button>\n                            <Download file=\"qr.svg\" content={qrSvg} style={{flexGrow: 1, maxWidth: 'calc(50% - 4px)'}}>\n                                <Button before={<Icon24Download/>} size=\"xl\" stretched>SVG</Button>\n                            </Download>\n                        </Div>\n                    </Group>\n                </Panel>\n            </View>\n        );\n    }\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n\n        default:\n            console.log('Connect: ' + JSON.stringify(e));\n    }\n});\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}