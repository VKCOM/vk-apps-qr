{"version":3,"sources":["App.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","url","svgRef","React","createRef","onChange","bind","assertThisInitialized","segs","qrCodeGenerator","QrSegment","makeSegments","svg","QrCode","encodeSegments","Ecc","QUARTILE","toSvgString","react_default","a","createElement","ref","dangerouslySetInnerHTML","__html","e","_e$currentTarget","currentTarget","name","value","setState","defineProperty","_this2","_this$state","size","vkui","activePanel","id","type","top","status","bottom","style","margin","display","before","download_default","marginRight","onClick","saveSvgAsPng","current","children","react_download_default","file","content","Component","connect","send","ReactDOM","render","src_App","document","getElementById"],"mappings":"sSA8EeA,cArEX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTC,IAAK,kBAGTR,EAAKS,OAASC,IAAMC,YAEpBX,EAAKY,SAAWZ,EAAKY,SAASC,KAAdZ,OAAAa,EAAA,EAAAb,QAAAa,EAAA,EAAAb,CAAAD,KATDA,mEAYfQ,GACA,IAAIO,EAAOC,IAAgBC,UAAUC,aAAaV,GAC9CW,EAAMH,IAAgBI,OAAOC,eAAeN,EAAMC,IAAgBI,OAAOE,IAAIC,SAAU,EAAG,IAAK,GAAG,GAAMC,cAE5G,OAAOC,EAAAC,EAAAC,cAAA,QAAMC,IAAKzB,KAAKM,OAAQoB,wBAAyB,CAACC,OAAQtB,EAAMW,EAAM,uCAGxEY,GAAG,IAAAC,EACcD,EAAEE,cAAjBC,EADCF,EACDE,KAAMC,EADLH,EACKG,MACbhC,KAAKiC,SAALnC,OAAAoC,EAAA,EAAApC,CAAA,GAAgBiC,EAAOC,qCAGlB,IAAAG,EAAAnC,KAAAoC,EACepC,KAAKI,MAAlBC,EADF+B,EACE/B,IAAKgC,EADPD,EACOC,KAERzB,EAAOC,IAAgBC,UAAUC,aAAaV,GAC9CW,EAAMH,IAAgBI,OAAOC,eAAeN,EAAMC,IAAgBI,OAAOE,IAAIC,SAAU,EAAG,IAAK,GAAG,GAAMC,cAG5G,OACIC,EAAAC,EAAAC,cAACc,EAAA,KAAD,CAAMC,YAAY,aACdjB,EAAAC,EAAAC,cAACc,EAAA,MAAD,CAAOE,GAAG,aACNlB,EAAAC,EAAAC,cAACc,EAAA,YAAD,WACAhB,EAAAC,EAAAC,cAACc,EAAA,MAAD,KACIhB,EAAAC,EAAAC,cAACc,EAAA,WAAD,KACIhB,EAAAC,EAAAC,cAACc,EAAA,MAAD,CACIG,KAAK,SACLC,IAAI,MACJX,KAAK,MACLC,MAAO3B,EACPI,SAAUT,KAAKS,SACfkC,OAAQtC,EAAM,QAAU,QACxBuC,OAAQvC,EAAM,GAAK,oDAI3BiB,EAAAC,EAAAC,cAACc,EAAA,IAAD,CAAKO,MAAO,CACRC,OAAQ,SAEP9C,KAAKgB,IAAIX,EAAKgC,IAGnBf,EAAAC,EAAAC,cAACc,EAAA,IAAD,CAAKO,MAAO,CAACE,QAAS,SAClBzB,EAAAC,EAAAC,cAACc,EAAA,OAAD,CAAQU,OAAQ1B,EAAAC,EAAAC,cAACyB,EAAA1B,EAAD,MAAmBc,KAAK,IAAIQ,MAAO,CAAEK,YAAa,GAAKC,QAAS,WAC5EC,uBAAajB,EAAK7B,OAAO+C,QAAQC,SAAS,GAAI,aADlD,OAGAhC,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAUiC,KAAK,SAASC,QAASzC,GAC7BM,EAAAC,EAAAC,cAACc,EAAA,OAAD,CAAQU,OAAQ1B,EAAAC,EAAAC,cAACyB,EAAA1B,EAAD,MAAoBc,KAAK,KAAzC,mBA5Dd9B,IAAMmD,WCAxBC,IAAQC,KAAK,eAAgB,IAE7BC,IAASC,OAAOxC,EAAAC,EAAAC,cAACuC,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.665e4582.chunk.js","sourcesContent":["import React from 'react';\nimport {Button, Div, FormLayout, Group, Input, ListItem, Panel, PanelHeader, Select, View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport qrCodeGenerator from '@vkontakte/vk-qr';\nimport Download from '@axetroy/react-download';\nimport Icon24Download from '@vkontakte/icons/dist/24/download';\nimport {saveSvgAsPng} from 'save-svg-as-png';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            url: 'https://vk.com'\n        };\n\n        this.svgRef = React.createRef();\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    svg(url) {\n        let segs = qrCodeGenerator.QrSegment.makeSegments(url);\n        let svg = qrCodeGenerator.QrCode.encodeSegments(segs, qrCodeGenerator.QrCode.Ecc.QUARTILE, 1, 40, -1, true).toSvgString();\n\n        return <span ref={this.svgRef} dangerouslySetInnerHTML={{__html: url ? svg : ''}}/>;\n    }\n\n    onChange(e) {\n        const {name, value} = e.currentTarget;\n        this.setState({[name]: value});\n    }\n\n    render() {\n        const {url, size} = this.state;\n\n        let segs = qrCodeGenerator.QrSegment.makeSegments(url);\n        let svg = qrCodeGenerator.QrCode.encodeSegments(segs, qrCodeGenerator.QrCode.Ecc.QUARTILE, 1, 40, -1, true).toSvgString();\n\n\n        return (\n            <View activePanel=\"mainPanel\">\n                <Panel id=\"mainPanel\">\n                    <PanelHeader>QR</PanelHeader>\n                    <Group>\n                        <FormLayout>\n                            <Input\n                                type=\"string\"\n                                top=\"URL\"\n                                name=\"url\"\n                                value={url}\n                                onChange={this.onChange}\n                                status={url ? 'valid' : 'error'}\n                                bottom={url ? '' : 'Введите URL'}\n                            />\n                        </FormLayout>\n\n                        <Div style={{\n                            margin: 'auto'\n                        }}>\n                            {this.svg(url, size)}\n                        </Div>\n\n                        <Div style={{display: 'flex'}}>\n                            <Button before={<Icon24Download/>} size=\"l\" style={{ marginRight: 8 }} onClick={() => {\n                                saveSvgAsPng(this.svgRef.current.children[0], \"png.png\")\n                            }}>PNG</Button>\n                            <Download file=\"qr.svg\" content={svg}>\n                                <Button before={<Icon24Download/>}  size=\"l\">SVG</Button>\n                            </Download>\n                        </Div>\n                    </Group>\n                </Panel>\n            </View>\n        );\n    }\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}